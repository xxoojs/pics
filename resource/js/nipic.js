!function(a){function b(a){S||c(),Q?a.call(N,this):R.push(a)}function c(){function a(){O.removeEventListener(f,a,!1),h()}function b(){O.readyState===g&&(O.detachEvent(f,b),h())}function c(){try{e("left"),h()}catch(a){setTimeout(c,1)}}var e=O.documentElement.doScroll,f=e?"onreadystatechange":"DOMContentLoaded",g="complete",h=function(){d()};return S=!0,O.readyState===g?h():void(O.addEventListener?(O.addEventListener(f,a,!1),N.addEventListener("load",h,!1)):(O.attachEvent(f,b),N.attachEvent("onload",h),N==N.top&&c()))}function d(){if(!Q&&(Q=!0,R)){for(var a,b=0;a=R[b++];)a.call(N,this);R=null}}function e(a,b){var c=O.createElement("script"),d={type:"text/javascript",src:a,defer:"defer",async:!0,charset:"utf-8"};for(var e in d)c[e]=d[e];c.onload=c.onreadystatechange=function(){c.readyState&&"loaded"!==c.readyState&&"complete"!==c.readyState||(c.onload=c.onreadystatechange=null,b&&"function"==typeof b&&b())},O.getElementsByTagName("head")[0].appendChild(c)}function f(a,b,c){var d=O.createElement("link"),e={type:"text/css",rel:"stylesheet",href:a};for(var f in e)d[f]=e[f];b&&(d.id=b),c&&(d.charset=c);var g=O.head||O.getElementsByTagName("head")[0]||O.documentElement,h=g.getElementsByTagName("script")[0]?g.getElementsByTagName("script")[0]:g.firstChild;return g.insertBefore(d,h),d}function g(a,b,c){void 0===c&&(c=!0);for(var d in b)!c&&d in a||(a[d]=b[d]);return a}function h(a,b){var c=/^#([\w\-]*)$/,d=/^\.([\w\-_]*)$/,e=/^[a-zA-Z]+$/,f=/^(?:\[name=)(\w*)(?:\])$/;if(a.nodeType)return a;if("string"==typeof a){if(c.test(a))return document.getElementById(a.match(c)[1]);if(d.test(a)){for(var g,h=a.match(d)[1],i=new RegExp("(?:^|\\s)"+h+"(?:$|\\s)"),j=document.getElementsByTagName("*"),k=[],l=0;null!=(g=j[l]);l++){var m=g.className;m&&-1!=m.indexOf(h)&&i.test(m)&&k.push(g)}return k}if(e.test(a))return document.getElementsByTagName(a.match(e)[0]);if(f.test(a))return document.getElementsByName(a.match(f)[1])}return null}function i(a){var b=a?a.ownerDocument:b,c=b.documentElement.scrollTop||b.body.scrollTop,d=b.documentElement.scrollLeft||b.body.scrollLeft;return{top:c,left:d}}function j(){var b=a;if(b.innerHeight)return{width:b.innerWidth,height:b.innerHeight};var c=document,d=c.compatMode;if("BackCompat"==d){var e=c.body;return{width:e.clientWidth,height:e.clientHeight}}var f=c.documentElement;return{width:f.clientWidth,height:f.clientHeight}}function k(a){for(var b=a.offsetTop,c=a.offsetLeft;a=a.offsetParent;)b+=a.offsetTop,c+=a.offsetLeft;return{top:b,left:c}}function l(a){return a&&"[object Object]"===a.toString()&&!a.nodeType&&!a.setInterval}function m(a){return"[object Array]"===T.call(a)}function n(a){return"[object String]"===T.call(a)}function o(a){return null===a}function p(a){return void 0===a}function q(a){for(var b in a)if(void 0!==b)return!1;return!0}function r(a){return null!=a&&a==a.window}function s(a){return F(a).search(/^[0-9]*$/)>=0}function t(a){return a.length!=a.replace(/[^\x00-\xff]/g,"**").length}function u(a){return F(a).search(/^([\u4e00-\u9fa5])+$/)>=0}function v(a){return/^([\w-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/.test(a)}function w(a,b,c){var d="",e="",f="",g="";if(c){if(c.expires&&("number"==typeof c.expires||c.expires.toUTCString)){var h;"number"==typeof c.expires?(h=new Date,h.setTime(h.getTime()+24*c.expires*60*60*1e3)):h=c.expires,d=";expires="+h.toUTCString()}e=c.path?"; path="+c.path:"",f=c.domain?";domain="+c.domain:"",g=c.secure?";secure":""}document.cookie=[a,"=",encodeURIComponent(b),d,e,f,g].join("")}function x(a){var b=document.cookie.match(new RegExp("(^| )"+a+"=([^;]*)(;|$)"));return null!=b?decodeURIComponent(b[2]):null}function y(a,b,c,d){if(null===a)return null;var c=c?c:"&",d=d?d:"=",e=a.match(new RegExp("(^|"+c+")"+b+d+"([^"+c+"]*)("+c+"|$)"));return null!=e?decodeURIComponent(e[2]):null}function z(a){var b=new Date;b.setTime(b.getTime()-1);var c=x(a);null!=c&&(document.cookie=a+"="+c+";expires="+b.toGMTString())}function A(a,b){if("string"!=typeof a)return null;var c=a.match(new RegExp("[?&]"+b+"=([^&]*)(&?)","i"));return c?c[1]:c}function B(a,b){if("string"!=typeof a||-1==a.indexOf("?")||"string"!=typeof b&&"[object Array]"!=Object.prototype.toString.call(b)||0==b.length)return a;var b="string"==typeof b?b.split(","):b,c=/.*#.+$/,d=a.split("#"),e=c.test(a)?"#"+d[1]:"",a=c.test(a)?d[0]:a,f=a.split("?"),g=f[0],h=f[1].split("&"),i=new RegExp("^("+b.join("|")+")=[^&]*$"),j=$.grep(h,function(a){return i.test(a)},!0);return 0==j.length?g+e:g+"?"+j.join("&")+e}function C(a){return A(location.href,a)}function D(a,b){if([].indexOf)return a.indexOf(b);for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1}function E(a,b,c){if([].lastIndexOf)return isNaN(c)?a.lastIndexOf(b):a.lastIndexOf(b,c);var d=a.length;for(c=isNaN(c)||c>=d-1?d-1:0>c?Math.ceil(c)+d:Math.floor(c);c>-1;c--)if(a[c]===b)return c;return-1}function F(a){return a.replace(/(^\s*)|(\s*$)/g,"")}function G(a){if(null==a)return[];if(m(a))return a;var b=typeof a.length,c=typeof a;if("number"!==b||a.alert||"string"===c||"function"===c&&!("item"in a&&"number"===b))return[a];for(var d=[],e=0,f=a.length;f>e;e++)d[e]=a[e];return d}function H(a,b){if(void 0===a.length){for(var c in a)if(!1===b(a[c],c,a))break}else for(var d=0,e=a.length;e>d&&!(d in a&&!1===b(a[d],d,a));d++);}function I(a,b,c){var d,e=[],f=0,g=a.length;for(c=!!c;g>f;f++)d=!!b(a[f],f),c!==d&&e.push(a[f]);return e}function J(a,b){var c=b.length,d=a.length,e=0;if("number"==typeof c)for(;c>e;e++)a[d++]=b[e];else for(;void 0!==b[e];)a[d++]=b[e++];return a.length=d,a}function K(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent?a.attachEvent("on"+b,c):a["on"+b]=c}function L(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent?a.detachEvent("on"+b,c):a["on"+b]=null}function M(a){var b={$file:null,$img:null,dragAdd:!0,$tip:null,allowFormat:["jpg","jpeg","bmp"],checkFile:function(a){var b=this,c=a[0],d=c.files[0].size;if(null==c||0==d)return alert("璇锋纭€夋嫨鏂囦欢"),!1;if(d>5242880)return alert("鏂囦欢涓嶈兘瓒呰繃5M"),!1;for(var e=$(c).val(),f=e.substring(e.lastIndexOf(".")+1,e.length).toLowerCase(),g=!1,h=0;h<b.o.allowFormat.length;h++)if(f==b.o.allowFormat[h]){g=!0;break}return g?!0:(alert("涓婁紶鏍煎紡蹇呴』鏄痡pg銆乯peg鎴栬€卋mp锛�"),!1)},afterUpload:function(a){var b=this;b.o.$fileParent.find("img").before(b.o.$file);var c={};try{c=JSON.parse(a.replace(/&amp;/g,"&")),1==c.code?(b.o.$fileParent.find("img").attr("src",c.url).css("margin","0"),b.o.$fileParent.find("span").hide(),b.o.$tip[0]&&b.o.$tip.hide()):alert(c.message)}catch(d){new Error(a)}b.o.$load.hide()},beforeUpload:function(){var a=this,b=a.o.$fileParent.find(".upload-load");0==b.length?(a.o.$load=$('<div class="upload-load pa" style="top: 0px; border-radius: 5px; text-align: center; color: rgb(132, 132, 132); left: 0px; border: 1px solid rgb(198, 214, 229); background: #fff; width: 158px; height: 158px; line-height:158px;cursor: text;">姝ｅ湪涓婁紶...</div>'),a.o.$fileParent.append(a.o.$load)):b.show()}};this.o=$.extend(b,a),this.init()}var N=a,O=N.document,P=N.navigator.userAgent.toLowerCase(),Q=!1,R=[],S=!1,T=Object.prototype.toString,U=document.defaultView?function(a,b){return!!(16&a.compareDocumentPosition(b))}:function(a,b){return a!=b&&a.contains(b)},V=function(a,b){return function(){return b.apply(a,arguments)}},W=function(b,c){var d=Array.prototype.slice.call(arguments).slice(2);return function(e){return c.apply(b,[e||a.event].concat(d))}},X=function(a){var b={msie:/msie/.test(a)&&!/opera/.test(a),opera:/opera/.test(a),safari:/webkit/.test(a)&&!/chrome/.test(a),firefox:/firefox/.test(a),chrome:/chrome/.test(a)},c=O&&O.documentElement,d="",e="";for(var f in b)if(b[f]){e="safari"==f?"version":f;break}if(b.version=e&&RegExp("(?:"+e+")[\\/: ]([\\d.]+)").test(a)?RegExp.$1:"0",c){for(var g in b)"version"!==g&&b[g]&&(d+=g,d+=" "+g+parseInt(b.version));F(d)&&(c.className=F(c.className+d))}return b}(P),Y=a.File&&a.FileReader&&!!a.FormData;M.prototype={init:function(){var a=this;a.o.$fileParent=a.o.$file.parent(),a.o.$file.on("change",function(){a.upload()})},getFile:function(){return this.o.$file.val()},getFileInfo:function(){},upload:function(){var a=this;if(Y&&!a.o.checkFile.call(a,a.o.$file))return!1;a.o.beforeUpload.call(a);var b=("up-"+Math.random()).replace(".",""),c=$('<form action="'+a.o.postUrl+'" enctype="multipart/form-data" method="post" target="'+b+'"></form>'),d=$("<iframe name='"+b+"' style='display:none'></iframe>");$("body").append(c),c.append(a.o.$file),$("body").append(d),$(d).on("load",function(){var b=$(this).contents().find("body").html();a.o.afterUpload.call(a,b),c.remove(),d.remove()}),c.submit()}};var Z={ready:b,loadJS:e,loadCSS:f,extend:g,getElement:h,getScrollTopLeft:i,contains:U,getWindowWidthHeight:j,getOffset:k,isPlainObject:l,isArray:m,isString:n,isNull:o,isUndefined:p,isEmptyObject:q,isWindow:r,isAllNumber:s,isInChinese:t,isChinese:u,isEmail:v,setCookie:w,getCookie:x,getChildCookie:y,delCookie:z,getUrlParaValue:A,getDelParaRemainUrl:B,queryString:C,inArray:D,lastIndexOf:E,trim:F,each:H,grep:I,makeArray:G,merge:J,addEvent:K,removeEvent:L,bind:V,bindAsEventListener:W,browser:X,fileUpload:M};a.NIPIC=a.NI=Z}(this),function(NIPIC){"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(a){return 10>a?"0"+a:a}function quote(a){return escapable.lastIndex=0,escapable.test(a)?'"'+a.replace(escapable,function(a){var b=meta[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function str(a,b){var c,d,e,f,g,h=gap,i=b[a];switch(i&&"object"==typeof i&&"function"==typeof i.toJSON&&(i=i.toJSON(a)),"function"==typeof rep&&(i=rep.call(b,a,i)),typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";if(gap+=indent,g=[],"[object Array]"===object_to_string.apply(i)){for(f=i.length,c=0;f>c;c+=1)g[c]=str(c,i)||"null";return e=0===g.length?"[]":gap?"[\n"+gap+g.join(",\n"+gap)+"\n"+h+"]":"["+g.join(",")+"]",gap=h,e}if(rep&&"object"==typeof rep)for(f=rep.length,c=0;f>c;c+=1)"string"==typeof rep[c]&&(d=rep[c],e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));else for(d in i)Object.prototype.hasOwnProperty.call(i,d)&&(e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));return e=0===g.length?"{}":gap?"{\n"+gap+g.join(",\n"+gap)+"\n"+h+"}":"{"+g.join(",")+"}",gap=h,e}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(a,b,c){var d;if(gap="",indent="","number"==typeof c)for(d=0;c>d;d+=1)indent+=" ";else"string"==typeof c&&(indent=c);if(rep=b,b&&"function"!=typeof b&&("object"!=typeof b||"number"!=typeof b.length))throw new Error("JSON.stringify");return str("",{"":a})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&"object"==typeof e)for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(d=walk(e,c),void 0!==d?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),NIPIC.parseJSON=JSON.parse,NIPIC.stringify=JSON.stringify}(NIPIC);